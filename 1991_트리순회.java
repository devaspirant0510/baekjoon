/*============================================================================
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*@@@@@@@@@@@@@@@
 @@@@@@@@@@@@@@@@@@@@@@@@$ .@@@@@@@@@@@@@@@@@@@@@@@@@@**@@@@@@@@@@@@@@@
 @@@@@@@@@@@@@@@@@@@@@@@@   @@@@@@@@@@@@@@@@@@@@@@@@@@*!@@@@@@@@@@@@@@@
 @@@@@@@@@@  .@@=.      ~: .@@@@@@@@@@@@@@@@@@@@@@@@@! !@@@@@@@@@@@@@@@
 @@@@@@@@@:    ,           *@@@@@@@@@@@@@@@@@@@@@@#@@! ,@!:@@@@@@@@@@@@
 @@@@@@@@@= .~              ~@@@@@@@@@@@@@@@@@@@@#  @  .*  !**=@@@@@@@@
 @@@@@@@@@@~       *,-!      = :@@@@@@@@@@@@@@@@@=  ! *,.  !   ;@@@@@@@
 @@@@@@@@@@@$.         .    ~    @@@@@@@@@@@@@@@@@ ; -:    ,    =@@@@@@
 @@@@@@@@@@@=    .      :   ~     @@@@@@@@@@@@@@@@, ;     !,    *@@@@@@
 @@@@@@@@@@@;   ,           ~    :#@@@@@@@@@@@@!   -!.    ~  -;.@@@@@
 @@@@@@@@@@@,   *  *     ;  ~   .**@@@@@@@@@@@@# . ~  *. ~   * .  ~@@@@
 @@@@@@@@@@@,   !  *-    :       ,!@@@@@@@@@@@@  ;  ! *  :   .     @@@@
 @@@@@@@@@@@,   *  **    :        *@@@@@@@@@@@-   ,  , :;     ,   ,@@@@
 @@@@@@@@@@@;   .        !   :    @@@@@@@@@@@!                ! . #@@@@
 @@@@@@@@@@@=              **     @@@@@@@@@@@   !             !!*,*@@@@
 @@@@@@@@@@@@    .      : .,. !  @@@@@@@@@@@*   !    .        !    !@@@
 @@@@@@@@@@@@     ,    .  !,*   @@@@@@@@@@@@.        *        *     @@@
 @@@@@@@@@@@@.      ~!-   .     @@@@@@@@@@@@                  *    ~@@@
 @@@@@@@@@@@@;                  @@@@@@@@@@@@   !;**   .       * -! @@@@
 @@@@@@@@@@@@!                  @@@@@@@@@  :       ..!        ! -!@@@@@
 @@@@@@@@@@@@~                  @@@@@@@@*   !   !   !         !  =#**@@
 @@@@@@@@@@@@:~~:-----~~~:~~~~~~#@@@@@@@!        .;,          ! !,  .@@
 @@@@@@@@@@@!:::::-            .@@@@@@@@=    ,                :!  ;*=@@
 @@@@@@@@@@@:::::.             .@@@@@@@@@!     !.    -;        ;    =@@
 @@@@@@@@@@:::::.        !: -  ;@@@@@@#@@@#-      *.            ! !@@@@
 @@@@@@@@@:::::    .    .*:-   =@@@@@@@@*@@@!     : .~~.         *@@@@@
 @@@@@@@@:::::,    ;.    !: :  ;@@@@@@@#@@@#@#-   .,,-~ .  -      ;==@@
 @@@@@@@;::::.      !  ! !; :! ~@@@@@@@@@$=@@@@@*~..,  .,   ~       -!!
 @@@@@@;::::;         .: ! :: .@@@@@@@@@*@@@@@@@@@...  ..     ;
 @@@@;::::;;;         ;: * :  =@@@@@@@@@@@@@@@@@@@~,,.,-.      :,    -:
 @#::::;;;;;;-         ;  :!  @@@@@@@@@@@@@@@@@@@@* ,..,         ,  ,~*
 @:=!;;;;;;;;*            :  =@@@@@@@@@@@@@@@@@@@@@              ~,*~=@
 *@@@@@!;;;;;;.         ;;  ~@@@@@@@@@@@@@@@@@@@@@@$              @@@@@
 @@@@@@@@@##@@@            ,@@@@@@@@@@@@@@@@@@@@@@@@=             @@@@@
 @@@@@@@@@@@@@@@! .       !@@@@@@@@@@@@@@@@@@@@@@@@@@=  !,       !@@@@@
 @@@@@@@@@@@@@@@@#.,   -*@.@@@@@@@@@@@@@@@@@@@@@@@@@@*    @$     =@@@@@
 @@@@@@@@@@@@@@@@:@@@@@@=@@@@@@@@@@@@@@@@@@@@@@@@@@*    @$     @@@@@@
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*    @*    ;@@@@@@
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@;    @:    @@@@@@@
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.   !@.   ~@@@@@@@
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * ğŸ† ë°±ì¤€ ì˜¨ë¼ì¸ ì €ì§€ (Baekjoon Online Judge)
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * ğŸ“Œ ë¬¸ì œ ë²ˆí˜¸  : 1991
 * ğŸ“Œ ë¬¸ì œ ì œëª©  : íŠ¸ë¦¬ ìˆœíšŒ
 * ğŸ”— ë¬¸ì œ ë§í¬  : https://www.acmicpc.net/problem/1991
 * âœï¸ ì‘ì„±ì     : seungho0510
 * ğŸ“… ì‘ì„± ë‚ ì§œ  : 2025-04-03
 ============================================================================*/

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class Main {
    public static void main(String[] args) throws IOException {
        BufferedReader ë¹„ì•Œ = new BufferedReader(new InputStreamReader(System.in));
        int N = Integer.parseInt(ë¹„ì•Œ.readLine());
        ë…¸ë“œ[] ë…¸ë“œì‚¬ì „ = new ë…¸ë“œ[26];
        íŠ¸ë¦¬ ì´ì§„íŠ¸ë¦¬ = new íŠ¸ë¦¬();
        // ì²«ì¤„ì€ ë£¨íŠ¸
        // A ëŠ” ë£¨íŠ¸ í•­ìƒ ê³ ì •ì´ë‹ˆ A ë…¸ë“œ  ë§Œë“¤ê¸°
        String[] í•œì¤„;
        for (int i = 0; i < N ; i++) {
            í•œì¤„ = ë¹„ì•Œ.readLine().split(" ");
            // ë…¸ë“œê°€ ë§Œë“¤ì–´ ì¡ŒëŠ”ì§€ í™•ì¸
            ì´ì§„íŠ¸ë¦¬.íŠ¸ë¦¬ë§Œë“¤ê¸°(í•œì¤„[0].charAt(0), í•œì¤„[1].charAt(0), í•œì¤„[2].charAt(0));


        }
        ì´ì§„íŠ¸ë¦¬.ì „ìœ„ìˆœíšŒ(ì´ì§„íŠ¸ë¦¬.ë£¨íŠ¸);
        System.out.println();
        ì´ì§„íŠ¸ë¦¬.ì¤‘ìœ„ìˆœíšŒ(ì´ì§„íŠ¸ë¦¬.ë£¨íŠ¸);
        System.out.println();
        ì´ì§„íŠ¸ë¦¬.í›„ìœ„ìˆœíšŒ(ì´ì§„íŠ¸ë¦¬.ë£¨íŠ¸);


    }

    protected static class íŠ¸ë¦¬ {
        ë…¸ë“œ[] ë…¸ë“œì‚¬ì „ = new ë…¸ë“œ[26];
        private ë…¸ë“œ ë£¨íŠ¸;

        public void ë£¨íŠ¸ë…¸ë“œì„¤ì •(ë…¸ë“œ ë£¨íŠ¸) {
            this.ë£¨íŠ¸ = ë£¨íŠ¸;
        }

        public void ì „ìœ„ìˆœíšŒ(ë…¸ë“œ ë£¨íŠ¸) {
            if (ë£¨íŠ¸ != null) {
                System.out.print(ë£¨íŠ¸.ê°’);
                ì „ìœ„ìˆœíšŒ(ë£¨íŠ¸.ì¢Œ);
                ì „ìœ„ìˆœíšŒ(ë£¨íŠ¸.ìš°);
            }
        }

        public void ì¤‘ìœ„ìˆœíšŒ(ë…¸ë“œ ë£¨íŠ¸) {
            if (ë£¨íŠ¸ != null) {
                ì¤‘ìœ„ìˆœíšŒ(ë£¨íŠ¸.ì¢Œ);
                System.out.print(ë£¨íŠ¸.ê°’);
                ì¤‘ìœ„ìˆœíšŒ(ë£¨íŠ¸.ìš°);
            }
        }

        public void í›„ìœ„ìˆœíšŒ(ë…¸ë“œ ë£¨íŠ¸) {
            if (ë£¨íŠ¸ != null) {
                í›„ìœ„ìˆœíšŒ(ë£¨íŠ¸.ì¢Œ);
                í›„ìœ„ìˆœíšŒ(ë£¨íŠ¸.ìš°);
                System.out.print(ë£¨íŠ¸.ê°’);
            }
        }

        private boolean isRoot() {
            for (ë…¸ë“œ node : ë…¸ë“œì‚¬ì „) {
                if (node != null) {
                    return false;
                }
            }
            return true;
        }

        public void íŠ¸ë¦¬ë§Œë“¤ê¸°(char ë£¨íŠ¸ê°’, char ì¢Œ, char ìš°) {
            int ë£¨íŠ¸ì‚¬ì „ë²ˆí˜¸ = ë£¨íŠ¸ê°’ - 65;
            int ë£¨íŠ¸ì¢Œë²ˆí˜¸ = ì¢Œ - 65;
            int ë£¨íŠ¸ìš°ë²ˆí˜¸ = ìš° - 65;
            ë…¸ë“œ ë£»ë…¸ë“œ;
            if (ë…¸ë“œì‚¬ì „[ë£¨íŠ¸ì‚¬ì „ë²ˆí˜¸] == null) {
                ë£»ë…¸ë“œ = new ë…¸ë“œ(ë£¨íŠ¸ê°’);
                if (isRoot()) {
                    ë£¨íŠ¸ = ë£»ë…¸ë“œ;
                }
                ë…¸ë“œì‚¬ì „[ë£¨íŠ¸ì‚¬ì „ë²ˆí˜¸] = ë£»ë…¸ë“œ;
            } else {
                ë£»ë…¸ë“œ = ë…¸ë“œì‚¬ì „[ë£¨íŠ¸ì‚¬ì „ë²ˆí˜¸];
            }
            if (ì¢Œ == '.') {
                ë£»ë…¸ë“œ.ì¢Œ = null;
            }
            if (ìš° == '.') {

                ë£»ë…¸ë“œ.ìš° = null;

            }
            if (ì¢Œ != '.') {
                if (ë…¸ë“œì‚¬ì „[ë£¨íŠ¸ì¢Œë²ˆí˜¸] == null) {
                    ë…¸ë“œ ì¢ŒíŒŒë…¸ë“œ = new ë…¸ë“œ(ì¢Œ);
                    ë…¸ë“œì‚¬ì „[ë£¨íŠ¸ì¢Œë²ˆí˜¸] = ì¢ŒíŒŒë…¸ë“œ;
                    ë£»ë…¸ë“œ.ì¢Œ = ì¢ŒíŒŒë…¸ë“œ;

                } else {
                    ë£»ë…¸ë“œ.ì¢Œ = ë…¸ë“œì‚¬ì „[ë£¨íŠ¸ì¢Œë²ˆí˜¸];
                }
            }
            if (ìš° != '.')
                if (ë…¸ë“œì‚¬ì „[ë£¨íŠ¸ìš°ë²ˆí˜¸] == null) {
                    ë…¸ë“œ ìš°íŒŒë…¸ë“œ = new ë…¸ë“œ(ìš°);
                    ë…¸ë“œì‚¬ì „[ë£¨íŠ¸ìš°ë²ˆí˜¸] = ìš°íŒŒë…¸ë“œ;
                    ë£»ë…¸ë“œ.ìš° = ìš°íŒŒë…¸ë“œ;

                } else {
                    ë£»ë…¸ë“œ.ìš° = ë…¸ë“œì‚¬ì „[ë£¨íŠ¸ìš°ë²ˆí˜¸];
                }
        }
    }

    protected static class ë…¸ë“œ {
        char ê°’;
        ë…¸ë“œ ì¢Œ;
        ë…¸ë“œ ìš°;

        public ë…¸ë“œ(char ê°’) {
            this.ê°’ = ê°’;
        }
    }
}
